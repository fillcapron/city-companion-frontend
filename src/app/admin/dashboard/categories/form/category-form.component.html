<div>
  <div class="dialog-title">
    <h2 mat-dialog-title>Форма добавления и редактирования категории</h2>
    <button mat-icon-button mat-dialog-close>
      <mat-icon>clear</mat-icon>
    </button>
  </div>
  <form #formCategory="ngForm">
    <div class="input-group" name="category">
      <mat-form-field appearance="fill">
        <mat-label>Название</mat-label>
        <input matInput name="name" [(ngModel)]="category.name" required [disabled]="isDisabledField">
        <mat-error *ngIf="formCategory.hasError('required')">
          Введите название
        </mat-error>
      </mat-form-field>
    
    <mat-form-field appearance="fill">
      <mat-label>Теги</mat-label>
    <mat-chip-list #chipList>
      <mat-chip *ngFor="let tag of category.tags" [selectable]="selectable"
               [removable]="removable" [disabled]="isDisabledField" (removed)="remove(tag)">
        {{tag.name}}
        <button matChipRemove *ngIf="removable">
          <mat-icon>cancel</mat-icon>
        </button>
      </mat-chip>
      <input placeholder="Добавить тег"
             [matChipInputFor]="chipList"
             [disabled]="isDisabledField"
             (change)="chipList.errorState = false"
             [matChipInputAddOnBlur]="addOnBlur"
             (matChipInputTokenEnd)="addTag($event)">
    </mat-chip-list>
    <mat-error *ngIf="chipList.errorState">Тег существует</mat-error>
  </mat-form-field>
</div>
  </form>
  <mat-dialog-actions class="mt-5">
    <ng-container *ngIf="isReading && isDisabledField else read">
      <button mat-stroked-button color="basic" (click)="reading()">Изменить</button>
      <button mat-raised-button color="warn" (click)="deleting()">Удалить</button>
    </ng-container>
  </mat-dialog-actions>
  <ng-template #read>
    <button [disabled]="formCategory.invalid" mat-raised-button color="accent"
      (click)="submit(formCategory)">Отправить</button>
      <button mat-raised-button color="warn"
      (click)="cancel()">Отмена</button>
  </ng-template>
</div>
